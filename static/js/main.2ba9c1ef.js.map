{"version":3,"file":"static/js/main.2ba9c1ef.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","index.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"],"sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import './index.css';\nclass Chatbox {\n  constructor() {\n      this.args = {\n          openButton: document.querySelector('.chatbox__button'),\n          chatBox: document.querySelector('.chatbox__support'),\n          sendButton: document.querySelector('.send__button')\n      }\n\n      this.state = false;\n      this.messages = [];\n  }\n\n  display() {\n      const {openButton, chatBox, sendButton} = this.args;\n\n      openButton.addEventListener('click', () => this.toggleState(chatBox))\n\n      sendButton.addEventListener('click', () => this.onSendButton(chatBox))\n\n      const node = chatBox.querySelector('input');\n\n      node.addEventListener(\"keyup\", ({key}) => {\n          if (key === \"Enter\") {\n              this.onSendButton(chatBox)\n          }\n      })\n  }\n\n  toggleState(chatbox) {\n      this.state = !this.state;\n\n      // show or hides the box\n      if(this.state) {\n          chatbox.classList.add('chatbox--active')\n          let welcome = { name: \"FootBot\", message: \"Welcome to the FIFA World Cup Chatbot! What's your name?\"};\n          this.messages.push(welcome)\n          this.updateChatText(chatbox)\n      } else {\n          chatbox.classList.remove('chatbox--active')\n      }\n  }\n\n  onSendButton(chatbox) {\n      var textField = chatbox.querySelector('input');\n      let text1 = textField.value\n      if (text1 === \"\") {\n          return;\n      }\n      if (this.messages.length == 0){\n          let welcome = { name: \"FootBot\", message: \"Welcome to the FIFA World Cup Chatbot! What's your name?\"};\n          this.messages.push(welcome);\n          return\n      }\n      let msg1 = { name: \"User\", message: text1 }\n      this.messages.push(msg1);\n\n      fetch('http://127.0.0.1:5000/message', {\n          method: 'POST',\n          body: JSON.stringify({ prompt: this.messages, message: text1 }),\n          mode: 'cors',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n        })\n        .then(r => r.json())\n        .then(r => {\n          let msg2 = { name: \"FootBot\", message: r.answer };\n          this.messages.push(msg2);\n          // this.updateChatText(chatbox)\n          let prompt2 = { name: \"FootBot\", message: r.nextPrompt };\n          this.messages.push(prompt2);\n          this.updateChatText(chatbox)\n          textField.value = ''\n\n      }).catch((error) => {\n          console.error('Error:', error);\n          this.updateChatText(chatbox)\n          textField.value = ''\n        });\n  }\n\n  updateChatText(chatbox) {\n      var html = '';\n      this.messages.slice().reverse().forEach(function(item, index) {\n          if (item.name === \"FootBot\")\n          {\n              html += '<div class=\"messages__item messages__item--visitor\">' + item.message + '</div>'\n          }\n          else\n          {\n              html += '<div class=\"messages__item messages__item--operator\">' + item.message + '</div>'\n          }\n        });\n\n      const chatmessage = chatbox.querySelector('.chatbox__messages');\n      chatmessage.innerHTML = html;\n  }\n}\n\n\nconst chatbox = new Chatbox();\nchatbox.display();","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toPropertyKey","arg","key","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","Chatbox","instance","Constructor","_classCallCheck","this","args","openButton","document","querySelector","chatBox","sendButton","state","messages","protoProps","staticProps","value","_this","_this$args","addEventListener","toggleState","onSendButton","_ref","chatbox","classList","add","push","name","message","updateChatText","remove","_this2","textField","text1","msg1","fetch","method","body","JSON","stringify","prompt","mode","headers","then","r","json","msg2","answer","prompt2","nextPrompt","catch","error","console","html","slice","reverse","forEach","item","index","innerHTML","display"],"sourceRoot":""}